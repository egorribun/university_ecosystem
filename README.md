# University Ecosystem

[![CI](https://github.com/OWNER/university_ecosystem/actions/workflows/ci.yml/badge.svg)](https://github.com/OWNER/university_ecosystem/actions/workflows/ci.yml)

–ï–¥–∏–Ω–∞—è —Ü–∏—Ñ—Ä–æ–≤–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç–∞: —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –∑–∞–Ω—è—Ç–∏–π, —Å–æ–±—ã—Ç–∏—è –∏ –Ω–æ–≤–æ—Å—Ç–∏, –∫–∞—Ä—Ç–∞ –∫–∞–º–ø—É—Å–∞, –ø—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è ‚Äî –≤—Å—ë –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ. –ü—Ä–æ–µ–∫—Ç —Å–æ–∑–¥–∞–Ω –¥–ª—è —Å—Ç—É–¥–µ–Ω—Ç–æ–≤, –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–π –∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤, —á—Ç–æ–±—ã —É—Å–∫–æ—Ä–∏—Ç—å –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—é –∏ —É–ø—Ä–æ—Å—Ç–∏—Ç—å –ø–æ–≤—Å–µ–¥–Ω–µ–≤–Ω—ã–µ –∑–∞–¥–∞—á–∏.

## –ß—Ç–æ –≤–Ω—É—Ç—Ä–∏ (–∫–æ—Ä–æ—Ç–∫–æ)
- üóìÔ∏è –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –≥—Ä—É–ø–ø—ã —Å —É—á—ë—Ç–æ–º —á—ë—Ç–Ω–æ—Å—Ç–∏ –Ω–µ–¥–µ–ª—å –∏ –±—ã—Å—Ç—Ä—ã–º –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–º ¬´—Å–µ–≥–æ–¥–Ω—è¬ª.
- üì∞ –ù–æ–≤–æ—Å—Ç–∏ –∏ –æ–±—ä—è–≤–ª–µ–Ω–∏—è —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π.
- üéüÔ∏è –°–æ–±—ã—Ç–∏—è: –∞—Ñ–∏—à–∞, —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è, –≤–ª–æ–∂–µ–Ω–∏—è.
- üó∫Ô∏è –ö–∞—Ä—Ç–∞ –∫–∞–º–ø—É—Å–∞ (–∫–æ—Ä–ø—É—Å–∞, –∞—É–¥–∏—Ç–æ—Ä–∏–∏, —Ç–æ—á–∫–∏ –∏–Ω—Ç–µ—Ä–µ—Å–∞).
- üîî –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è: web-push –∏ email.
- üë§ –ü—Ä–æ—Ñ–∏–ª—å: –∞–≤–∞—Ç–∞—Ä/–æ–±–ª–æ–∂–∫–∞, –±–∞–∑–æ–≤—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏.
- üéß –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å–æ Spotify (OAuth, now playing).
- ‚ôø –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –º–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å –ø–ª–∞–≤–Ω—ã–º–∏ –∞–Ω–∏–º–∞—Ü–∏—è–º–∏.

> –¶–µ–ª—å –ø—Ä–æ–µ–∫—Ç–∞ ‚Äî —Å–æ–±—Ä–∞—Ç—å –∫–ª—é—á–µ–≤—ã–µ —Å–µ—Ä–≤–∏—Å—ã —Å—Ç—É–¥–µ–Ω—Ç–∞ –∏ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è –≤ —É–¥–æ–±–Ω–æ–π —ç–∫–æ—Å–∏—Å—Ç–µ–º–µ —Å —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–º UX –∏ –æ—Ç–∫—Ä—ã—Ç–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π –¥–ª—è –¥–∞–ª—å–Ω–µ–π—à–∏—Ö –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π.

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

1. –°–∫–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∏ –ø–æ–¥–≥–æ—Ç–æ–≤—å—Ç–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ:

   ```bash
   git clone git@github.com:OWNER/university_ecosystem.git
   cd university_ecosystem
   cp root/.env.example root/.env
   cp root/frontend/.env.example root/frontend/.env
   ```

2. –°–æ–∑–¥–∞–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ, —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Python-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (–≤–∫–ª—é—á–∞—è `pre-commit`) –∏ Node-–ø–∞–∫–µ—Ç—ã —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞:

   ```bash
   python -m venv .venv && source .venv/bin/activate
   pip install -r root/requirements.txt
   npm --prefix root/frontend install
   npm --prefix root/frontend run prepare
   ```

   –•—É–∫–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç [pre-commit](https://pre-commit.com/) –¥–ª—è Python –∏ [Husky](https://typicode.github.io/husky) + lint-staged –¥–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞.

3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:

   ```bash
   uvicorn app.main:app --reload --env-file root/.env --app-dir root/app
   npm --prefix root/frontend run dev
   ```

4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–µ—Å—Ç—ã:

   ```bash
   pytest -q
   npm --prefix root/frontend run test
   ```

5. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ PWA-—Å–±–æ—Ä–∫–∞ –≤ –ø–æ—Ä—è–¥–∫–µ:

   ```bash
   pre-commit run --all-files
   npm --prefix root/frontend run lint
   npm --prefix root/frontend run format:check
   npm --prefix root/frontend run build
   ```

## –ö–æ–º–∞–Ω–¥—ã

### Backend (`root/`)

- `uvicorn app.main:app --reload --env-file root/.env --app-dir root/app` ‚Äî –¥–µ–≤-—Å–µ—Ä–≤–µ—Ä FastAPI.
- `pytest` ‚Äî —é–Ω–∏—Ç- –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã.
- `pre-commit run --all-files` ‚Äî –ø–æ–ª–Ω—ã–π –ø—Ä–æ–≥–æ–Ω ruff/black/isort.
- `alembic upgrade head` ‚Äî –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π.

### Frontend (`root/frontend/`)

- `npm run dev` ‚Äî Vite dev server.
- `npm run lint` ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ ESLint –¥–ª—è –∫–ª—é—á–µ–≤—ã—Ö —ç–∫—Ä–∞–Ω–æ–≤.
- `npm run test` / `npm run test:watch` ‚Äî Vitest.
- `npm run test:e2e` ‚Äî Playwright.
- `npm run lint:all` –∏ `npm run format:check` ‚Äî –ø–æ–ª–Ω—ã–π –ø—Ä–æ–≥–æ–Ω ESLint/Prettier –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏.
- `npm run build` ‚Äî –ø—Ä–æ–¥–∞–∫—à–Ω-—Å–±–æ—Ä–∫–∞ —Å –≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π PWA-–∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤.
- `npm run lint-staged` ‚Äî –∑–∞–ø—É—Å–∫ lint-staged –¥–ª—è —Ç–µ–∫—É—â–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π.
- `npm run prepare` ‚Äî –ø–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∫–∞ Husky-—Ö—É–∫–æ–≤ (–≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ—Å–ª–µ `npm install`).

### Docker

- `docker compose up --build` ‚Äî –ø–æ–¥–Ω—è—Ç—å –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã (backend, frontend, postgres).
- `docker compose down -v` ‚Äî –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏ –æ—á–∏—Å—Ç–∏—Ç—å —Ç–æ–º–∞.

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ PR

- –ü–µ—Ä–µ–¥ –∫–æ–º–º–∏—Ç–æ–º –¥–∞–π—Ç–µ Husky –≤—ã–ø–æ–ª–Ω–∏—Ç—å `pre-commit` –∏ `lint-staged`; —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `pre-commit run --all-files` –∏ `npm --prefix root/frontend run lint` –ø—Ä–æ—Ö–æ–¥—è—Ç –±–µ–∑ –æ—à–∏–±–æ–∫.
- –ü—Ä–æ–≥–æ–Ω–∏—Ç–µ —Ç–µ—Å—Ç—ã: `pytest` –∏ `npm --prefix root/frontend run test` (–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ `npm run test:e2e` –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ e2e).
- –û–±–Ω–æ–≤–ª—è–π—Ç–µ `README.md`, `.env.example` –∏ –ø—Ä–∏–º–µ—Ä—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤.
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–π—Ç–µ –Ω–µ–±–æ–ª—å—à–∏–µ –æ—Å–º—ã—Å–ª–µ–Ω–Ω—ã–µ –∫–æ–º–º–∏—Ç—ã, –æ–ø–∏—Å—ã–≤–∞–π—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ PR –∏ —Å–ª–µ–¥–∏—Ç–µ –∑–∞ –∑–µ–ª—ë–Ω—ã–º CI.

## –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –≤ VS Code Dev Container

> –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è: [Docker Desktop](https://www.docker.com/products/docker-desktop/) –∏–ª–∏ —Å–æ–≤–º–µ—Å—Ç–∏–º—ã–π –¥–≤–∏–∂–æ–∫, [Visual Studio Code](https://code.visualstudio.com/) –∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ [Dev Containers](https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.remote-containers).

1. –°–æ–∑–¥–∞–π—Ç–µ `root/.env` –∏–∑ –ø—Ä–∏–º–µ—Ä–∞, –∫–∞–∫ –æ–ø–∏—Å–∞–Ω–æ –≤—ã—à–µ ‚Äî —Ñ–∞–π–ª –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è –≤–æ –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã.
2. –û—Ç–∫—Ä–æ–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –≤ VS Code –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É **Dev Containers: Reopen in Container**.
3. –ü–æ—Å–ª–µ —Å–±–æ—Ä–∫–∏ –æ–±—Ä–∞–∑–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É—Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è Python/Node –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏, –∞ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è (`Python`, `Pylance`, `Docker`, `ESLint`, `Prettier`) –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ —Ä–∞–±–æ—á—É—é —Å—Ä–µ–¥—É.
4. –ë—ç–∫–µ–Ω–¥ (FastAPI) –∏ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ (Vite) —Å—Ç–∞—Ä—Ç—É—é—Ç –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –ø–æ –∞–¥—Ä–µ—Å–∞–º `http://localhost:8000` –∏ `http://localhost:5173` —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –¥–æ—Å—Ç—É–ø–Ω–∞ –Ω–∞ `localhost:5432`.

–û—Å—Ç–∞–Ω–æ–≤–∫–∞ dev-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–∫–ª—é—á–∏—Ç —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã (`shutdownAction: stopCompose`).

## –û–±–Ω–æ–≤–ª–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

- Dependabot –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç `npm`, `pip` –∏ GitHub Actions –∫–∞–∂–¥—É—é –Ω–µ–¥–µ–ª—é –≤ –ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫ –≤ 04:00‚Äì06:00 UTC, —Å–æ–∑–¥–∞–≤–∞—è —Å–≥—Ä—É–ø–ø–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ PR-—ã —Å –ø—Ä–µ—Ñ–∏–∫—Å–∞–º–∏ `build` –∏ `ci`.
- –û–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø—Ä–∏—Ö–æ–¥—è—Ç –µ–¥–∏–Ω—ã–º –ø—É–ª–ª-—Ä–µ–∫–≤–µ—Å—Ç–æ–º –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –Ω–∞–±–æ—Ä–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π, —á—Ç–æ —É–ø—Ä–æ—â–∞–µ—Ç —Ä–µ–≤—å—é –∏ —Å–Ω–∏–∂–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤.
- –ü–æ—Å–ª–µ –º–µ—Ä–∂–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ø–∞–π–ø–ª–∞–π–Ω `CI`, —á—Ç–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤ –ø–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º.

## –ù–∞–±–ª—é–¥–∞–µ–º–æ—Å—Ç—å –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

- –î–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∂–∏–≤–æ—Å—Ç–∏ –∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ —Å–µ—Ä–≤–∏—Å–∞ –¥–æ—Å—Ç—É–ø–Ω—ã —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã `GET /healthz` (–±—ã—Å—Ç—Ä—ã–π –æ—Ç–≤–µ—Ç FastAPI –∏ –ø–∏–Ω–≥ –±–∞–∑—ã) –∏ `GET /ready` (–æ–∂–∏–¥–∞–µ—Ç –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –±–∞–∑–æ–π).
- –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ª–æ–≥–∏ (JSON) —Å–æ–¥–µ—Ä–∂–∞—Ç —É—Ä–æ–≤–Ω–∏, –∏–º–µ–Ω–∞ –ª–æ–≥–≥–µ—Ä–æ–≤, `trace_id`, `span_id` –∏ `request_id`. –ó–∞–≥–æ–ª–æ–≤–æ–∫ –∫–æ—Ä—Ä–µ–ª—è—Ü–∏–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `X-Request-ID`, –Ω–æ –º–æ–∂–Ω–æ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å —á–µ—Ä–µ–∑ `REQUEST_ID_HEADER`.
- OpenTelemetry –≤–∫–ª—é—á–∞–µ—Ç—Å—è —É—Å—Ç–∞–Ω–æ–≤–∫–æ–π `ENABLE_OTEL=true`. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏: `OTEL_SERVICE_NAME`, `OTEL_EXPORTER_OTLP_ENDPOINT`, `OTEL_EXPORTER_OTLP_HEADERS`, `OTEL_TRACE_SAMPLER_RATIO`, `ENABLE_OTEL_METRICS` –∏ `ENABLE_OTEL_LOGS`. –¢—Ä–µ–π—Å—ã FastAPI –∏ SQLAlchemy, –º–µ—Ç—Ä–∏–∫–∏ –∏ –ª–æ–≥–∏ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –≤ OTLP-—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–π –±–µ–∫–µ–Ω–¥.
- –î–ª—è Sentry –∑–∞–¥–∞–π—Ç–µ `SENTRY_DSN` –∏, –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏, `SENTRY_ENVIRONMENT`, `SENTRY_TRACES_SAMPLE_RATE`, `SENTRY_PROFILES_SAMPLE_RATE`. –û—à–∏–±–∫–∏ —Å–≤—è–∑—ã–≤–∞—é—Ç—Å—è —Å trace-id –∏–∑ OpenTelemetry.
- SQLAlchemy –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `pool_pre_ping` –∏ –ø–æ–≤—Ç–æ—Ä—è–µ—Ç —Å–æ–∑–¥–∞–Ω–∏–µ —Å–µ—Å—Å–∏–∏ –ø—Ä–∏ –∏–Ω–≤–∞–ª–∏–¥–∏—Ä–æ–≤–∞–Ω–Ω–æ–º —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–∏, –ø–æ—ç—Ç–æ–º—É –∫—Ä–∞—Ç–∫–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Ä–∞–∑—Ä—ã–≤ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î –Ω–µ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –ø–∞–¥–µ–Ω–∏—é –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤

- SlowAPI –ø—Ä–∏–º–µ–Ω—è–µ—Ç –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –ª–∏–º–∏—Ç—ã (`RATE_LIMIT_DEFAULT`) –∏ –æ—Ç–¥–µ–ª—å–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –¥–ª—è —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π (`RATE_LIMIT_SENSITIVE`, –Ω–∞–ø—Ä–∏–º–µ—Ä –ª–æ–≥–∏–Ω –∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è). –•—Ä–∞–Ω–∏–ª–∏—â–µ —Å—á—ë—Ç—á–∏–∫–æ–≤ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ `RATE_LIMIT_STORAGE_URI`, –∑–∞–≥–æ–ª–æ–≤–∫–∏ `Retry-After` ‚Äî —á–µ—Ä–µ–∑ `RATE_LIMIT_HEADERS_ENABLED`.
- HTTP-–æ—Ç–≤–µ—Ç—ã –¥–æ–ø–æ–ª–Ω—è—é—Ç—Å—è –∑–∞–≥–æ–ª–æ–≤–∫–∞–º–∏: —Å—Ç—Ä–æ–≥–∏–π CSP (`SECURITY_CSP`, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤ —Ä–µ–∂–∏–º–µ Report-Only), HSTS (`SECURITY_HSTS_*`), `X-Frame-Options` (`SECURITY_X_FRAME_OPTIONS`) –∏ `Permissions-Policy` (`SECURITY_PERMISSIONS_POLICY`).
- CORS –∏—Å–ø–æ–ª—å–∑—É–µ—Ç whitelisting: —Å–ø–∏—Å–∫–∏ –º–µ—Ç–æ–¥–æ–≤ –∏ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ —É–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ `CORS_ALLOW_METHODS`, `CORS_ALLOW_HEADERS`, `CORS_EXPOSE_HEADERS`, –∞ –¥–æ–º–µ–Ω—ã ‚Äî —á–µ—Ä–µ–∑ `FRONTEND_ORIGINS`/`FRONTEND_ORIGIN`.

### –ö–∞–∫ –æ—Å–ª–∞–±–∏—Ç—å –ø–æ–ª–∏—Ç–∏–∫—É –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ

- –û—Ç–∫–ª—é—á–∏—Ç–µ –ª–∏–º–∏—Ç—ã, —É—Å—Ç–∞–Ω–æ–≤–∏–≤ `RATE_LIMIT_ENABLED=false`, –ª–∏–±–æ –∑–∞–¥–∞–π—Ç–µ –±–æ–ª–µ–µ –º—è–≥–∫–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è –≤ `RATE_LIMIT_DEFAULT`/`RATE_LIMIT_SENSITIVE` (–Ω–∞–ø—Ä–∏–º–µ—Ä, `500/minute`).
- –î–ª—è –æ—Ç–ª–∞–¥–∫–∏ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ —Ä–∞—Å—à–∏—Ä—å—Ç–µ CSP: —É–∫–∞–∂–∏—Ç–µ `SECURITY_CSP="default-src 'self'; script-src 'self' 'unsafe-inline' http://localhost:5173"` –∏ –æ—Å—Ç–∞–≤—å—Ç–µ `SECURITY_CSP_REPORT_ONLY=true`, —á—Ç–æ–±—ã –±—Ä–∞—É–∑–µ—Ä —Ç–æ–ª—å–∫–æ –ª–æ–≥–∏—Ä–æ–≤–∞–ª –Ω–∞—Ä—É—à–µ–Ω–∏—è. –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –¥–æ–±–∞–≤—å—Ç–µ `SECURITY_CSP_REPORT_URI` –¥–ª—è —Å–±–æ—Ä–∞ –æ—Ç—á—ë—Ç–æ–≤.
- –ß—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –ø—Ä–æ–±–ª–µ–º —Å –ª–æ–∫–∞–ª—å–Ω—ã–º HTTP, —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `SECURITY_HSTS_ENABLED=false` –∏ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –æ—Å–ª–∞–±—å—Ç–µ `SECURITY_PERMISSIONS_POLICY`/`SECURITY_X_FRAME_OPTIONS`.

## –ß—Ç–æ –ø–æ—Ñ–∏–∫—Å–∏–ª–∏ –∏ –ø–æ—á–µ–º—É

- –ù–∞—Å—Ç—Ä–æ–∏–ª–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –Ω–∞ Pydantic v2: –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —á–∏—Ç–∞—é—Ç—Å—è –∏–∑ `.env`/`.env.local`/`.env.example` –≤ –ª—é–±–æ–º –∫–∞—Ç–∞–ª–æ–≥–µ –∑–∞–ø—É—Å–∫–∞, –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Å–ø–∏—Å–∫–∏ CORS –∏ –¥–æ–≤–µ—Ä–µ–Ω–Ω—ã—Ö —Ö–æ—Å—Ç–æ–≤.
- –û–±–Ω–æ–≤–∏–ª–∏ —Å–æ–∑–¥–∞–Ω–∏–µ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –¥–≤–∏–∂–∫–∞ SQLAlchemy —Å `NullPool` –≤ dev –∏ –ø—Ä–æ–≤–µ—Ä–∫–æ–π –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è —á–µ—Ä–µ–∑ `wait_db`, —á—Ç–æ –∏–∑–±–∞–≤–ª—è–µ—Ç –æ—Ç –æ—à–∏–±–æ–∫ –ø—Ä–∏ –≥–æ—Ä—è—á–µ–π –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–µ.
- –ü–µ—Ä–µ–≤–µ–ª–∏ FastAPI-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ lifespan, –¥–æ–±–∞–≤–∏–ª–∏ `/healthz`, –∫–æ—Ä—Ä–µ–∫—Ç–Ω—É—é –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é —Å—Ç–∞—Ç–∏–∫–∏, CORS –∏ –±–µ–∑–æ–ø–∞—Å–Ω—É—é —Ä–∞–±–æ—Ç—É –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –ø—Ä–∏ hot-reload.
- –£–±—Ä–∞–ª–∏ –ø—Ä—è–º—ã–µ –æ–±—Ä–∞—â–µ–Ω–∏—è –∫ `os.getenv` –≤ –∫–æ–¥–µ: –≤—Å—ë —á–∏—Ç–∞–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —á–µ—Ä–µ–∑ `settings`, —á—Ç–æ —É–ø—Ä–æ—â–∞–µ—Ç —Å–æ–ø—Ä–æ–≤–æ–∂–¥–µ–Ω–∏–µ –∏ –∑–∞–ø—É—Å–∫ –Ω–∞ Windows.

## –ü—Ä–æ–≥—Ä–µ—Å—Å–∏–≤–Ω–æ–µ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

- –§—Ä–æ–Ω—Ç–µ–Ω–¥ –ø–µ—Ä–µ–≤–µ–¥—ë–Ω –Ω–∞ `vite-plugin-pwa` —Å Workbox: —Å–µ—Ä–≤–∏—Å-–≤–æ—Ä–∫–µ—Ä –∫–µ—à–∏—Ä—É–µ—Ç HTML, —Å—Ç–∞—Ç–∏–∫—É –∏ API —Å –ø–æ–¥—Ö–æ–¥—è—â–∏–º–∏ —Å—Ç—Ä–∞—Ç–µ–≥–∏—è–º–∏, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∏ –æ—Ç–¥–∞—ë—Ç –æ—Ñ–ª–∞–π–Ω-—Å—Ç—Ä–∞–Ω–∏—Ü—É.
- –î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ —Å–±–æ—Ä–∫–∞ –æ—Å—Ç–∞—é—Ç—Å—è –ø—Ä–µ–∂–Ω–∏–º–∏ (`npm install`, `npm run dev`). –°–±–æ—Ä–∫–∞ (`npm run build`) —Ç–µ–ø–µ—Ä—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç `sw.js`, `manifest.webmanifest` –∏ —Ä–µ—Å—É—Ä—Å—ã –¥–ª—è –æ—Ñ–ª–∞–π–Ω-—Ä–µ–∂–∏–º–∞.
- –í –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –º–æ–∂–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –Ω–∞ –¥–æ–º–∞—à–Ω–∏–π —ç–∫—Ä–∞–Ω: –º–∞–Ω–∏—Ñ–µ—Å—Ç –≤–∫–ª—é—á–∞–µ—Ç –∏–∫–æ–Ω–∫–∏, —Ü–≤–µ—Ç–æ–≤—É—é —Å—Ö–µ–º—É –∏ —Ä–µ–∂–∏–º `standalone`.
- –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω–∞—è PWA –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç –æ—Ç–∫—Ä—ã–≤–∞—Ç—å –≥–ª–∞–≤–Ω—É—é (`/`) –∏ —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤—Ö–æ–¥–∞ (`/login`) –¥–∞–∂–µ –±–µ–∑ —Å–µ—Ç–∏: —Å–µ—Ä–≤–∏—Å-–≤–æ—Ä–∫–µ—Ä –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–µ—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–π app-shell –∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç –µ–≥–æ –ø—Ä–∏ —Å–ª–µ–¥—É—é—â–µ–º –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏.
- –ú–∞—Å–∫–∏—Ä—É–µ–º—ã–µ –∏–∫–æ–Ω–∫–∏ PWA –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –≤–æ –≤—Ä–µ–º—è —Å–±–æ—Ä–∫–∏ –∏–∑ base64-–¥–∞–Ω–Ω—ã—Ö, –ø–æ—ç—Ç–æ–º—É –±–∏–Ω–∞—Ä–Ω—ã–µ –∞—Å—Å–µ—Ç—ã –Ω–µ –ø–æ–ø–∞–¥–∞—é—Ç –≤ –∏—Å—Ç–æ—Ä–∏—é —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è.
